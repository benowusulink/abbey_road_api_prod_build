function e(e,t,i,_){Object.defineProperty(e,t,{get:i,set:_,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire8ea6,i=t.register;i("45854",function(i,_){e(i.exports,"Admin_home_controller",()=>o);var s=t("hWPbS"),a=t("8h3FI");class o{constructor(){this.model=new(0,a.Admin_home_Model),this.view=new(0,s.Admin_home_View),this.model.registerListener(e=>{this.view.render_who_we_are_documents(e)}),this.model.registerListener(e=>{this.view.render_edit_who_we_are_documents(e)}),this.model.registerListener(e=>{this.view.render_edit_our_estates_text(e)}),this.model.registerListener(e=>{this.view.render_edit_our_estates_images(e)}),this.model.registerListener(e=>{this.view.render_edit_service_images(e)}),this.view.articles_event_listener(e=>{1===e?this.model.fetch_who_we_are_documents():2===e?(this.model.fetch_who_we_are_documents(),this.view.edit_who_we_are_documents(this.edit_who_we_are_documents)):3===e?(this.model.fetch_our_estates_text(),this.view.edit_our_estates_text(this.edit_our_estates_text)):4===e?(this.model.fetch_our_estates_images(),this.view.edit_our_estates_images(this.edit_our_estates_images)):5===e&&(this.model.fetch_service_images(),this.view.edit_service_images(this.edit_service_images))})}edit_who_we_are_documents=(e,t,i,_)=>{this.model.edit_who_we_are_documents(e,t,i,_)};edit_our_estates_text=e=>{this.model.edit_our_estates_text(e)};edit_our_estates_images=(e,t)=>{this.model.edit_our_estates_images(e,t)};edit_service_images=(e,t,i)=>{this.model.edit_service_images(e,t,i)}}}),i("hWPbS",function(t,i){e(t.exports,"Admin_home_View",()=>_);class _{constructor(){this.clicked_btn=!1,this.who_we_are={old_doc_name:"",id:""},this.our_estates_section={old_img_name:""},this.services_section={id:"",old_img_name:""}}articles_event_listener=e=>{let t=Array.from(document.getElementsByClassName("admin_home_page_main_section_article_div_span")),i=null;t.forEach((t,_)=>{t.addEventListener("click",()=>{i=`admin_home_page_main_section_article_div_span${_+1}`;let s=document.getElementById(`admin_home_page_main_section_section1_article_div${_+1}`);this.clicked_btn?(this.clicked_btn=!1,s.style.display="none",t.textContent="Click Here",t.style.fontSize="110%",t.style.color="var(--fourth-color)",t.style.backgroundColor="var(--third-color)",t.style.border="var(--fourth-color) solid 2px"):(this.clicked_btn=!0,s.style.display="flex",t.textContent="X",t.style.fontSize="200%",t.style.color="darkred",t.style.border="red solid 2px",e(_+1)),Array.from(document.getElementsByClassName("admin_home_page_main_section_article_div1")).forEach((e,t)=>{e.id!==s.id&&(e.style.display="none")}),Array.from(document.getElementsByClassName("admin_home_page_main_section_article_div_span")).forEach(e=>{i!==e.id&&(e.textContent="Click Here",e.style.fontSize="110%",e.style.color="var(--fourth-color)",e.style.backgroundColor="var(--third-color)",e.style.border="var(--fourth-color) solid 2px")})})})};render_who_we_are_documents=e=>{let t=document.getElementById("admin_home_page_main_section_section1_article_div1_loading"),i=document.getElementById("admin_home_page_main_section_section1_article_div1_h3"),_=document.getElementById("admin_home_page_main_section_section1_article_div1_ul1");e.loading?(i.style.display="none",_.style.display="none",t.style.display="none",t.style.display="block"):e.who_we_are_section.view.who_we_are_documents&&!1===e.loading?(t.style.display="none",i.style.display="none",_.replaceChildren(),_.style.display="flex",e.who_we_are_section.view.who_we_are_documents.forEach(e=>{let t=document.createElement("li");t.classList.add("admin_home_page_main_section_section1_article_div1_ul1_li"),t.textContent=e.title,_.appendChild(t)})):null===e.who_we_are_section.view.who_we_are_documents&&(t.style.display="none",_.style.display="none",i.style.display="none",i.style.display="flex")};render_edit_who_we_are_documents=e=>{document.getElementById("admin_home_page_main_section_section1_article_div2_h4");let t=document.getElementById("admin_home_page_main_section_section1_article_div2_ul1"),i=document.getElementById("admin_home_page_main_section_section1_article_div2_loading"),_=document.getElementById("edit_who_we_are_pdf_form_div_loading"),s=document.getElementById("edit_who_we_are_pdf_form_err_msg"),a=document.getElementById("edit_who_we_are_pdf_form_success_msg"),o=()=>{i.style.display="none",_.style.display="none",a.style.display="none",s.style.display="none"};e.loading?(o(),t.replaceChildren(),i.style.display="block",_.style.display="block"):!0===e.who_we_are_section.edit.edit_who_we_are_document?(o(),t.replaceChildren(),a.style.display="flex",a.textContent=`Board Document: ${e.who_we_are_section.edit.new_edited_who_we_are_document.name} Edited Successfully \u{2705} `,e.who_we_are_section.view.who_we_are_documents.forEach(e=>{let i=document.createElement("li");i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li"),i.setAttribute("name",e.title),i.setAttribute("id",e.id),i.textContent=e.title,i.addEventListener("click",e=>{this.who_we_are.old_doc_name=e.target.getAttribute("name"),this.who_we_are.id=e.target.getAttribute("id"),t.querySelectorAll(".admin_home_page_main_section_section1_article_div2_ul1_li").forEach(e=>e.classList.remove("admin_home_page_main_section_section1_article_div2_ul1_li_selected")),i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li_selected")}),t.appendChild(i)})):!0===e.who_we_are_section.edit.attempted_edit_who_we_are_document?(o(),t.replaceChildren(),s.style.display="flex",e.who_we_are_section.view.who_we_are_documents.forEach(e=>{let i=document.createElement("li");i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li"),i.setAttribute("name",e.title),i.setAttribute("id",e.id),i.textContent=e.title,i.addEventListener("click",e=>{this.who_we_are.old_doc_name=e.target.getAttribute("name"),this.who_we_are.id=e.target.getAttribute("id"),t.querySelectorAll(".admin_home_page_main_section_section1_article_div2_ul1_li").forEach(e=>e.classList.remove("admin_home_page_main_section_section1_article_div2_ul1_li_selected")),i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li_selected")}),t.appendChild(i)})):e.who_we_are_section.view.who_we_are_documents?(o(),t.replaceChildren(),e.who_we_are_section.view.who_we_are_documents.forEach(e=>{let i=document.createElement("li");i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li"),i.setAttribute("name",e.title),i.setAttribute("id",e.id),i.textContent=e.title,i.addEventListener("click",e=>{this.who_we_are.old_doc_name=e.target.getAttribute("name"),this.who_we_are.id=e.target.getAttribute("id"),t.querySelectorAll(".admin_home_page_main_section_section1_article_div2_ul1_li").forEach(e=>e.classList.remove("admin_home_page_main_section_section1_article_div2_ul1_li_selected")),i.classList.add("admin_home_page_main_section_section1_article_div2_ul1_li_selected")}),t.appendChild(i)})):(o(),t.replaceChildren())};edit_who_we_are_documents=e=>{let t=document.getElementById("edit_who_we_are_pdf_form"),i=document.getElementById("edit_who_we_are_pdf_form_name"),_=document.getElementById("edit_who_we_are_pdf_form_upload_input");t.onsubmit=s=>{s.preventDefault();let a=_.files[0];e(this.who_we_are.old_doc_name,i.value,a,this.who_we_are.id),t.reset()}};render_edit_our_estates_text=e=>{let t=document.getElementById("admin_home_page_main_section_section1_article_div3_loading"),i=document.getElementById("admin_home_page_main_section_section1_article_div3_h4"),_=document.getElementById("admin_home_page_main_section_section1_article_div3_h3"),s=document.getElementById("view_and_edit_our_estates_text_form_div1_loading"),a=document.getElementById("view_and_edit_our_estates_text_form_div1_err"),o=document.getElementById("view_and_edit_our_estates_text_form_div1_success"),n=document.getElementById("view_and_edit_our_estates_text_form_text"),d=()=>{t.style.display="none",s.style.display="none",o.style.display="none",a.style.display="none",i.style.display="none",_.style.display="none",n.value=""};e.loading?(d(),t.style.display="block",s.style.display="block"):!0===e.our_estates_section.edit.edit_our_estates_text?(d(),o.style.display="flex",i.style.display="block",_.style.display="flex",_.textContent=e.our_estates_section.view.our_estates_text):!0===e.our_estates_section.edit.attempted_edit_our_estates_text?(d(),a.style.display="flex",i.style.display="block",_.style.display="flex"):e.our_estates_section.view.our_estates_text&&(d(),i.style.display="block",_.style.display="flex",_.textContent=e.our_estates_section.view.our_estates_text,n.value=e.our_estates_section.view.our_estates_text)};edit_our_estates_text=e=>{let t=document.getElementById("view_and_edit_our_estates_text_form"),i=document.getElementById("view_and_edit_our_estates_text_form_text");t.onsubmit=_=>{_.preventDefault(),e(i.value),t.reset()}};render_edit_our_estates_images=e=>{let t=document.getElementById("admin_home_page_main_section_section1_article_div4_loading"),i=document.getElementById("admin_home_page_main_section_section1_article_div4_h3"),_=document.getElementById("admin_home_page_main_section_section1_article_div4_ul1"),s=document.getElementById("view_and_edit_our_estates_images_form_div1_loading"),a=document.getElementById("view_and_edit_our_estates_images_form_div1_err"),o=document.getElementById("view_and_edit_our_estates_images_form_div1_success"),n=()=>{t.style.display="none",i.style.display="none",s.style.display="none",o.style.display="none",a.style.display="none"};e.loading?(n(),_.replaceChildren(),t.style.display="block",s.style.display="block"):!0===e.our_estates_section.edit.edit_our_estates_image?(n(),_.replaceChildren(),i.style.display="block",i.textContent="Click Image Below to change it",o.style.display="flex",e.our_estates_section.view.our_estates_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img"),"index-section3-article1-div1-img1"===e.id?(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)):"index-section3-article1-div1-img2"===e.id&&(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)),i.addEventListener("click",e=>{this.our_estates_section.old_img_name=e.target.getAttribute("name"),t.querySelectorAll(".admin_home_page_main_section_section1_article_div4_ul1_li_img").forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):!0===e.our_estates_section.edit.attempted_edit_our_estates_image?(n(),_.replaceChildren(),a.style.display="flex",i.style.display="block",e.our_estates_section.view.our_estates_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img"),"index-section3-article1-div1-img1"===e.id?(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)):"index-section3-article1-div1-img2"===e.id&&(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)),i.addEventListener("click",e=>{this.our_estates_section.old_img_name=e.target.getAttribute("name"),t.querySelectorAll(".admin_home_page_main_section_section1_article_div4_ul1_li_img").forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):e.our_estates_section.view.our_estates_images?(n(),_.replaceChildren(),i.style.display="block",i.textContent="Click Image Below to change it",e.our_estates_section.view.our_estates_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img"),"index-section3-article1-div1-img1"===e.id?(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)):"index-section3-article1-div1-img2"===e.id&&(i.setAttribute("id",e.id),i.setAttribute("name",e.title),i.setAttribute("src",e.production_src)),i.addEventListener("click",e=>{this.our_estates_section.old_img_name=e.target.getAttribute("name"),Array.from(document.getElementsByClassName("admin_home_page_main_section_section1_article_div4_ul1_li_img")).forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div4_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):(n(),_.replaceChildren(),i.style.display="block",i.textContent="No images to display")};edit_our_estates_images=e=>{let t=document.getElementById("view_and_edit_our_estates_images_form"),i=document.getElementById("view_and_edit_our_estates_images_form_input");t.onsubmit=_=>{_.preventDefault(),console.log(this.our_estates_section.old_img_name),e(i.files[0],this.our_estates_section.old_img_name),t.reset()}};render_edit_service_images=e=>{let t=document.getElementById("admin_home_page_main_section_section1_article_div5_loading"),i=document.getElementById("admin_home_page_main_section_section1_article_div5_h3"),_=document.getElementById("admin_home_page_main_section_section1_article_div5_ul1"),s=document.getElementById("view_and_edit_services_images_form_div1_loading"),a=document.getElementById("view_and_edit_services_images_form_div1_err"),o=document.getElementById("view_and_edit_services_images_form_div1_success"),n=()=>{t.style.display="none",i.style.display="none",s.style.display="none",o.style.display="none",a.style.display="none"};e.loading?(n(),_.replaceChildren(),t.style.display="block",s.style.display="block"):!0===e.services_section.edit.edit_service_image?(n(),_.replaceChildren(),i.style.display="block",i.textContent="Click Image Below to change it",o.style.display="flex",e.services_section.view.service_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img"),i.setAttribute("id",e.id),i.setAttribute("name",e.text),i.setAttribute("src",e.production_src),i.addEventListener("click",e=>{this.services_section.old_img_name=e.target.getAttribute("name"),this.services_section.id=e.target.getAttribute("id"),Array.from(document.getElementsByClassName("admin_home_page_main_section_section1_article_div5_ul1_li_img")).forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):!0===e.services_section.edit.attempted_edit_service_image?(n(),_.replaceChildren(),a.style.display="flex",i.style.display="block",e.services_section.view.service_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img"),i.setAttribute("id",e.id),i.setAttribute("name",e.text),i.setAttribute("src",e.production_src),i.addEventListener("click",e=>{this.services_section.old_img_name=e.target.getAttribute("name"),this.services_section.id=e.target.getAttribute("id"),Array.from(document.getElementsByClassName("admin_home_page_main_section_section1_article_div5_ul1_li_img")).forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):e.services_section.view.service_images?(n(),_.replaceChildren(),i.style.display="block",i.textContent="Click Image Below to change it",e.services_section.view.service_images.forEach(e=>{let t=document.createElement("li"),i=document.createElement("img");t.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li"),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img"),i.setAttribute("id",e.id),i.setAttribute("name",e.text),i.setAttribute("src",e.production_src),i.addEventListener("click",e=>{this.services_section.old_img_name=e.target.getAttribute("name"),this.services_section.id=e.target.getAttribute("id"),Array.from(document.getElementsByClassName("admin_home_page_main_section_section1_article_div5_ul1_li_img")).forEach(e=>{e.classList.remove("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),i.classList.add("admin_home_page_main_section_section1_article_div5_ul1_li_img_clicked")}),t.appendChild(i),_.appendChild(t)})):(n(),_.replaceChildren(),i.style.display="block",i.textContent="No images to display")};edit_service_images=e=>{let t=document.getElementById("view_and_edit_services_images_form"),i=document.getElementById("view_and_edit_services_images_form_input");t.onsubmit=_=>{_.preventDefault(),e(i.files[0],this.services_section.id,this.services_section.old_img_name),t.reset()}}}}),i("8h3FI",function(t,i){e(t.exports,"Admin_home_Model",()=>_);class _{constructor(){this.state={loading:!1,who_we_are_section:{view:{who_we_are_documents:null},edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!1,new_edited_who_we_are_document:{name:""}}},our_estates_section:{view:{our_estates_text:null,our_estates_images:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!1,edit_our_estates_image:!1,attempted_edit_our_estates_image:!1}},services_section:{view:{service_images:null},edit:{edit_service_image:!1,attempted_edit_service_image:!1}}},this.listeners=[]}setState=e=>{let t=(e,i)=>{for(let _ in i)"object"!=typeof e[_]||"object"!=typeof i[_]||null===e[_]||null===i[_]||Array.isArray(e[_])||Array.isArray(i[_])?e[_]=i[_]:t(e[_],i[_]);return e};return this.state=t({...this.state},e),this.notifyListeners(),console.log(this.state),this.state};registerListener=e=>{this.listeners.push(e),e(this.state)};notifyListeners=()=>{this.listeners.forEach(e=>{e(this.state)})};fetch_who_we_are_documents=()=>{this.setState({loading:!0}),fetch("https://www.abbeyroad.org.uk/admin_home_page/fetch_who_we_are_documents").then(e=>e.json()).then(e=>{console.log(e),e.success?this.setState({loading:!1,who_we_are_section:{view:{who_we_are_documents:e.who_we_are_documents},edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!1}}}):this.setState({loading:!1,who_we_are_section:{view:{who_we_are_documents:null},edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!1}}})}).catch(e=>{console.log(e),this.setState({loading:!1,who_we_are_section:{view:{who_we_are_documents:null},edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!1}}})})};edit_who_we_are_documents=(e,t,i,_)=>{let s=i=>{if("new"===i){let e=t.replace(/\s+/g,"_");return e.toLowerCase().endsWith(".pdf")||(e+=".pdf"),e}{let t=e.replace(/\s+/g,"_");return t.toLowerCase().endsWith(".pdf")||(t+=".pdf"),t}};if(s("old").length>0&&s("new").length>0&&_&&i){this.setState({loading:!0});let e=new FormData;e.append("who_we_are_pdf",i,s("new")),e.append("old_document_name",s("old")),e.append("a_tag_id",_),console.log([...e]),fetch("https://www.abbeyroad.org.uk/admin_home_page/edit_who_we_are_documents",{method:"put",body:e}).then(e=>e.json()).then(e=>{e.success?this.setState({loading:!1,who_we_are_section:{view:{who_we_are_documents:e.who_we_are_documents},edit:{edit_who_we_are_document:!0,attempted_edit_who_we_are_document:!1,new_edited_who_we_are_document:{name:s()}}}}):this.setState({loading:!1,who_we_are_section:{edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!0,new_edited_who_we_are_document:{name:""}}}})}).catch(e=>{this.setState({loading:!1,who_we_are_section:{edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!0,new_edited_who_we_are_document:{name:""}}}})})}else this.setState({loading:!1,who_we_are_section:{edit:{edit_who_we_are_document:!1,attempted_edit_who_we_are_document:!0,new_edited_who_we_are_document:{name:""}}}})};fetch_our_estates_text=()=>{this.setState({loading:!0}),fetch("https://www.abbeyroad.org.uk/admin_home_page/fetch_our_estates_text").then(e=>e.json()).then(e=>{console.log(e),e.success?this.setState({loading:!1,our_estates_section:{view:{our_estates_text:e.our_estates_text},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!1}}}):this.setState({loading:!1,our_estates_section:{view:{our_estates_text:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!1}}})}).catch(e=>{console.log(e),this.setState({loading:!1,our_estates_section:{view:{our_estates_text:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!1}}})})};edit_our_estates_text=e=>{e.length>0?(this.setState({loading:!0}),fetch("https://www.abbeyroad.org.uk/api/admin_home_page/edit_our_estates_text",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({new_text:e})}).then(e=>e.json()).then(e=>{e.success?(console.log(e),this.setState({loading:!1,our_estates_section:{view:{our_estates_text:e.our_estates_text},edit:{edit_our_estates_text:!0,attempted_edit_our_estates_text:!1}}})):this.setState({loading:!1,our_estates_section:{view:{our_estates_text:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!0}}})}).catch(e=>{console.log(e),this.setState({loading:!1,our_estates_section:{view:{our_estates_text:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!0}}})})):this.setState({loading:!1,our_estates_section:{view:{our_estates_text:null},edit:{edit_our_estates_text:!1,attempted_edit_our_estates_text:!0}}})};fetch_our_estates_images=()=>{this.setState({loading:!0}),fetch("https://www.abbeyroad.org.uk/api/admin_home_page/fetch_our_estates_images").then(e=>e.json()).then(e=>{if(console.log(e),e.success){let t=e.our_estates_images.filter(e=>{if("index-section3-article1-div1-img1"===e.id||"index-section3-article1-div1-img2"===e.id)return e});this.setState({loading:!1,our_estates_section:{view:{our_estates_images:t}}})}else this.setState({loading:!1,our_estates_section:{view:{our_estates_images:null}}})}).catch(e=>{console.log(e),this.setState({loading:!1,our_estates_section:{view:{our_estates_images:null}}})})};edit_our_estates_images=(e,t)=>{if(e.type.includes("image")&&t.length>0){this.setState({loading:!0});let i=new FormData;i.append("our_estates_image",e,e.name),i.append("image_id",t),console.log([...i]),fetch("https://www.abbeyroad.org.uk/api/admin_home_page/edit_our_estates_images",{method:"put",body:i}).then(e=>e.json()).then(e=>{e.success?(this.setState({loading:!1,our_estates_section:{edit:{edit_our_estates_image:!0,attempted_edit_our_estates_image:!1}}}),this.fetch_our_estates_images()):this.setState({loading:!1,our_estates_section:{edit:{edit_our_estates_image:!1,attempted_edit_our_estates_image:!0}}})}).catch(e=>{console.log(e),this.setState({loading:!1,our_estates_section:{edit:{edit_our_estates_image:!1,attempted_edit_our_estates_image:!0}}})})}else this.setState({loading:!1,our_estates_section:{edit:{edit_our_estates_image:!1,attempted_edit_our_estates_image:!0}}})};fetch_service_images=()=>{this.setState({loading:!0}),fetch("https://www.abbeyroad.org.uk/api/admin_home_page/fetch_service_images").then(e=>e.json()).then(e=>{e.success?this.setState({loading:!1,services_section:{view:{service_images:e.service_images}}}):this.setState({loading:!1,services_section:{view:{service_images:null}}})}).catch(e=>{console.log(e),this.setState({loading:!1,services_section:{view:{service_images:null}}})})};edit_service_images=(e,t,i)=>{if(e.type.includes("image")&&t.length>0){this.setState({loading:!0});let _=new FormData;_.append("service_image",e,e.name),_.append("image_id",t),_.append("old_image_name",i),console.log([..._]),fetch("http://localhost:3001/api/admin_home_page/edit_our_service_images",{method:"put",body:_}).then(e=>e.json()).then(e=>{e.success?(this.setState({loading:!1,services_section:{edit:{edit_service_image:!0,attempted_edit_service_image:!1}}}),this.fetch_service_images()):this.setState({loading:!1,services_section:{edit:{edit_service_image:!1,attempted_edit_service_image:!0}}})}).catch(e=>{console.log(e),this.setState({loading:!1,services_section:{edit:{edit_service_image:!1,attempted_edit_service_image:!0}}})})}else this.setState({loading:!1,services_section:{edit:{edit_service_image:!1,attempted_edit_service_image:!0}}})}}});
//# sourceMappingURL=controller.f9fa078c.js.map
