{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,W,iB,C,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,wB,I,G,I,E,E,S,E,E,QCIO,OAAM,EAEZ,aAAa,CACZ,QAAQ,GAAG,CAAC,iCAEZ,IAAI,CAAC,KAAK,CAAG,GAAI,CAAA,EAAA,EAAA,gBAAe,AAAf,EACjB,IAAI,CAAC,IAAI,CAAG,GAAI,CAAA,EAAA,EAAA,eAAc,AAAd,EAEhB,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAC3B,IAAI,CAAC,AAAC,IACH,EAAI,QAAQ,EACd,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,EAAI,QAAQ,CAE3C,GACC,KAAK,CAAC,AAAC,IACP,QAAQ,GAAG,CAAC,EACb,EACD,CACD,C,G,E,Q,S,C,C,C,E,E,E,O,C,mB,I,ECtBO,OAAM,EAEZ,aAAa,CAEb,CAEA,kBAAoB,IAIX,MAAM,6EACZ,IAAI,CAAC,AAAC,GACC,EAAI,IAAI,IAEf,IAAI,CAAC,AAAC,GAEN,CADA,QAAQ,GAAG,CAAC,GACT,EAAI,OAAO,EAAI,EAAI,QAAQ,EACtB,QAAQ,OAAO,CAAC,CACtB,SAAU,EAAI,QAAQ,AACvB,IAGA,QAAQ,GAAG,CAAC,8BACL,QAAQ,MAAM,KAGtB,KAAK,CAAC,AAAC,IACP,QAAQ,GAAG,CAAC,8BACL,QAAQ,MAAM,IA2BvB,AACF,C,G,E,Q,S,C,C,C,E,E,E,O,C,kB,I,ECxDO,OAAM,EAEZ,aAAa,CAEb,CAEA,mBAAqB,AAAC,IAErB,IAAM,EAAK,SAAS,cAAc,CAAC,+BAEnC,EAAS,OAAO,CAAC,AAAC,IAEjB,IAAM,EAAK,SAAS,aAAa,CAAC,MAC5B,EAAI,SAAS,aAAa,CAAC,KAC3B,EAAI,SAAS,aAAa,CAAC,KAEjC,EAAG,SAAS,CAAC,GAAG,CAAC,iCACjB,EAAE,SAAS,CAAC,GAAG,CAAC,mCAChB,EAAE,YAAY,CAAC,SAAU,UAEvB,EAAE,YAAY,CAAC,OAAQ,EAAQ,cAAc,EAK/C,EAAE,SAAS,CAAC,GAAG,CAAC,qCAEhB,EAAE,WAAW,CAAG,EAAQ,IAAI,CAE5B,EAAE,WAAW,CAAC,GACd,EAAG,WAAW,CAAC,GACf,EAAG,WAAW,CAAC,EAChB,EACD,CAAC,AACF,C","sources":["<anon>","src/javascript/governance_page/controller/controller.js","src/javascript/governance_page/model/model.js","src/javascript/governance_page/view/view.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire8ea6\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"258g4\", function(module, exports) {\n\n$parcel$export(module.exports, \"Governance_controller\", () => $18427450e265515b$export$1a1f32dcddf29882);\n\nvar $cxQXE = parcelRequire(\"cxQXE\");\n\nvar $j0AGs = parcelRequire(\"j0AGs\");\nclass $18427450e265515b$export$1a1f32dcddf29882 {\n    constructor(){\n        console.log(\"Governance_controller working\");\n        this.model = new (0, $cxQXE.Governance_model)();\n        this.view = new (0, $j0AGs.Governance_view)();\n        this.model.fetch_anchor_tags().then((res)=>{\n            if (res.elements) this.view.render_anchor_tags(res.elements);\n        }).catch((err)=>{\n            console.log(err);\n        });\n    }\n}\n\n});\nparcelRegister(\"cxQXE\", function(module, exports) {\n\n$parcel$export(module.exports, \"Governance_model\", () => $9221a6122b62d9f8$export$2b45ec4b315861ba);\nclass $9221a6122b62d9f8$export$2b45ec4b315861ba {\n    constructor(){}\n    fetch_anchor_tags = ()=>{\n        var res, res1, err;\n        return fetch('https://www.abbeyroad.org.uk/api/governance_page/fetch_anchor_tags').then((res)=>{\n            return res.json();\n        }).then((res)=>{\n            console.log(res);\n            if (res.success && res.elements) return Promise.resolve({\n                elements: res.elements\n            });\n            else {\n                console.log(\"error getting anchor tags1\");\n                return Promise.reject();\n            }\n        }).catch((err)=>{\n            console.log(\"error getting anchor tags2\");\n            return Promise.reject();\n        });\n    };\n}\n\n});\n\nparcelRegister(\"j0AGs\", function(module, exports) {\n\n$parcel$export(module.exports, \"Governance_view\", () => $dd6a790d566c802e$export$d5aa952cc9ea0c6f);\nclass $dd6a790d566c802e$export$d5aa952cc9ea0c6f {\n    constructor(){}\n    render_anchor_tags = (elements)=>{\n        const ul = document.getElementById(\"governance-main-article-ul1\");\n        elements.forEach((element)=>{\n            const li = document.createElement(\"li\");\n            const a = document.createElement(\"a\");\n            const p = document.createElement(\"p\");\n            li.classList.add(\"governance-main-article-ul-li\");\n            a.classList.add(\"governance-main-article-ul-li-a\");\n            a.setAttribute(\"target\", \"_blank\");\n            a.setAttribute(\"href\", element.production_url);\n            p.classList.add(\"governance-main-article-ul-li-a-p\");\n            p.textContent = element.name;\n            a.appendChild(p);\n            li.appendChild(a);\n            ul.appendChild(li);\n        });\n    };\n}\n\n});\n\n\n\n//# sourceMappingURL=controller.a194f13d.js.map\n","\nimport {Governance_model} from '../model/model.js';\nimport {Governance_view} from '../view/view.js';\n\nexport class Governance_controller {\n\n\tconstructor(){\n\t\tconsole.log(\"Governance_controller working\")\n\n\t\tthis.model = new Governance_model();\n\t\tthis.view = new Governance_view();\n\n\t\tthis.model.fetch_anchor_tags()\n\t\t.then((res)=>{\n\t\t\tif(res.elements){\n\t\t\t\tthis.view.render_anchor_tags(res.elements)\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n}","export class Governance_model {\n\n\tconstructor(){\n\n\t}\n\n\tfetch_anchor_tags = ()=>{\n\n\t\tif(process.env.NODE_ENV === \"production\"){\n\n\t\t\treturn fetch('https://www.abbeyroad.org.uk/api/governance_page/fetch_anchor_tags')\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res)\n\t\t\t\tif(res.success && res.elements){\n\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\telements: res.elements\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconsole.log(\"error getting anchor tags1\")\n\t\t\t\t\treturn Promise.reject()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(\"error getting anchor tags2\")\n\t\t\t\treturn Promise.reject()\n\t\t\t})\n\t\t}\n\n\t\telse {\n\n\t\t\treturn fetch('http://localhost:3001/api/governance_page/fetch_anchor_tags')\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\n\t\t\t\tif(res.success && res.elements){\n\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\telements: res.elements\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconsole.log(\"error getting anchor tags1\")\n\t\t\t\t\treturn Promise.reject()\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(\"error getting anchor tags2\")\n\t\t\t\treturn Promise.reject()\n\t\t\t})\n\t\t}\n\t}\n}","export class Governance_view {\n\n\tconstructor(){\n\n\t}\n\n\trender_anchor_tags = (elements) => {\n\n\t\tconst ul = document.getElementById(\"governance-main-article-ul1\");\n\n\t\telements.forEach((element)=>{\n\n\t\t\tconst li = document.createElement(\"li\");\n\t\t\tconst a = document.createElement(\"a\");\n\t\t\tconst p = document.createElement(\"p\");\n\n\t\t\tli.classList.add(\"governance-main-article-ul-li\");\n\t\t\ta.classList.add(\"governance-main-article-ul-li-a\");\n\t\t\ta.setAttribute(\"target\", \"_blank\");\n\t\t\tif (process.env.NODE_ENV === \"production\") {\n\t\t\t  a.setAttribute(\"href\", element.production_url)\n\t\t\t} \n\t\t\telse {\n\t\t\t  a.setAttribute(\"href\", element.development_url)\n\t\t\t}\n\t\t\tp.classList.add(\"governance-main-article-ul-li-a-p\");\n\n\t\t\tp.textContent = element.name\n\n\t\t\ta.appendChild(p);\n\t\t\tli.appendChild(a);\n\t\t\tul.appendChild(li)\n\t\t})\n\t}\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$18427450e265515b$export$1a1f32dcddf29882","$cxQXE","$j0AGs","console","log","model","Governance_model","view","Governance_view","fetch_anchor_tags","then","res","elements","render_anchor_tags","catch","err","$9221a6122b62d9f8$export$2b45ec4b315861ba","fetch","json","success","Promise","resolve","reject","$dd6a790d566c802e$export$d5aa952cc9ea0c6f","ul","document","getElementById","forEach","element","li","createElement","a","p","classList","add","setAttribute","production_url","textContent","name","appendChild"],"version":3,"file":"controller.a194f13d.js.map"}