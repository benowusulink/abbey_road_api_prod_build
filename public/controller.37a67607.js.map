{"mappings":"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","sources":["<anon>","src/javascript/contact-us-page/controller/controller.js","src/javascript/contact-us-page/view/view.js","src/javascript/contact-us-page/model/model.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire8ea6\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dkJDw\", function(module, exports) {\n\n$parcel$export(module.exports, \"ContactController\", () => $9b508b0e74cee262$export$f51814647bb03076);\n\nvar $6oHMy = parcelRequire(\"6oHMy\");\n\nvar $3ZZly = parcelRequire(\"3ZZly\");\nclass $9b508b0e74cee262$export$f51814647bb03076 {\n    constructor(){\n        this.view = new (0, $6oHMy.ContactView)();\n        this.model = new (0, $3ZZly.ContactModel)();\n        this.view.init();\n        this.view.submitForm(this.handle_contact_main_section1_form1_submit);\n    }\n    handle_contact_main_section1_form1_submit = (formData)=>{\n        return this.model.handle_contact_main_section1_form1_submit(formData).then((res)=>{\n            if (res.status) return Promise.resolve({\n                status: true\n            });\n            else return Promise.reject({\n                status: false\n            });\n        }).catch((err)=>{\n            console.log(err);\n            Promise.reject({\n                status: false\n            });\n        });\n    };\n}\n\n});\nparcelRegister(\"6oHMy\", function(module, exports) {\n\n$parcel$export(module.exports, \"ContactView\", () => $4a86f22d801b5784$export$2aa93a6f36b4689c);\nclass $4a86f22d801b5784$export$2aa93a6f36b4689c {\n    constructor(){\n        // init form values empty strings or if theyve already been \n        // cached in session storage using that value \n        this.name = window.sessionStorage.getItem(\"name\") ? document.getElementById(\"contact-page-form-name\").value = window.sessionStorage.getItem(\"name\") : '';\n        this.email = window.sessionStorage.getItem(\"email\") ? document.getElementById(\"contact-page-form-email\").value = window.sessionStorage.getItem(\"email\") : '';\n        this.telephone = window.sessionStorage.getItem(\"telephone\") ? document.getElementById(\"contact-page-form-telephone-number\").value = window.sessionStorage.getItem(\"telephone\") : '';\n        this.msg = window.sessionStorage.getItem(\"msg\") ? document.getElementById(\"contact-page-form-msg\").value = window.sessionStorage.getItem(\"msg\").trim() : ''.trim();\n        this.init = ()=>{\n            this.presave_input_data();\n            this.remove_session_storage_when_form_resets();\n            this.hide_response_message();\n        };\n    }\n    hide_response_message = ()=>{\n        const div = document.getElementById(\"contact-main-section1-form1-div1\");\n        div.style.display = 'none';\n    };\n    // save live input data into view constructor and to session storage\n    presave_input_data = ()=>{\n        const name = document.getElementById(\"contact-page-form-name\");\n        const email = document.getElementById(\"contact-page-form-email\");\n        const telephone = document.getElementById(\"contact-page-form-telephone-number\");\n        const msg = document.getElementById(\"contact-page-form-msg\");\n        name.addEventListener(\"input\", (event)=>{\n            this.name = event.target.value.trim();\n            window.sessionStorage.setItem(\"name\", this.name);\n        });\n        email.addEventListener(\"input\", (event)=>{\n            this.email = event.target.value.trim();\n            window.sessionStorage.setItem(\"email\", this.email);\n        });\n        telephone.addEventListener(\"input\", (event)=>{\n            this.telephone = event.target.value.trim();\n            window.sessionStorage.setItem(\"telephone\", this.telephone);\n        });\n        msg.addEventListener(\"input\", (event)=>{\n            event.target.value.trim();\n            this.msg = event.target.value.trim();\n            window.sessionStorage.setItem(\"msg\", this.msg);\n        });\n    };\n    remove_session_storage_when_form_resets = ()=>{\n        const reset_btn = document.getElementById(\"contact-main-section1-form1-div-div2-input1\");\n        reset_btn.addEventListener(\"click\", (event)=>{\n            window.sessionStorage.removeItem(\"name\");\n            window.sessionStorage.removeItem(\"email\");\n            window.sessionStorage.removeItem(\"telephone\");\n            window.sessionStorage.removeItem(\"msg\");\n        });\n    };\n    submitForm = (modelHandlerFunction)=>{\n        const form = document.getElementById(\"contact-main-section1-form1\");\n        console.log(\"click\");\n        form.addEventListener(\"submit\", (event)=>{\n            event.preventDefault();\n            this.name = document.getElementById(\"contact-page-form-name\").value.trim();\n            this.email = document.getElementById(\"contact-page-form-email\").value.trim();\n            this.telephone = document.getElementById(\"contact-page-form-telephone-number\").value.trim();\n            this.msg = document.getElementById(\"contact-page-form-msg\").value.trim();\n            if (this.name.length > 0 && this.email.length > 0 && this.telephone.length > 0 && this.msg.length > 0) {\n                if (this.email.includes(\"@\") && this.email.length > 5) modelHandlerFunction({\n                    name: this.name,\n                    email: this.email,\n                    telephone: this.telephone,\n                    msg: this.msg\n                }).then((res)=>{\n                    if (res.status) {\n                        const div = document.getElementById(\"contact-main-section1-form1-div1\");\n                        const p = document.getElementById(\"contact-main-section1-form1-div1-p1\");\n                        div.style.display = 'flex';\n                        p.classList.remove(\"contact-main-section1-form1-div1-p1-fail\");\n                        p.classList.add(\"contact-main-section1-form1-div1-p1-success\");\n                        p.textContent = \"Message sent successfully\";\n                        document.getElementById(\"contact-page-form-name\").value = \"\";\n                        this.name = \"\";\n                        window.sessionStorage.removeItem(\"name\");\n                        document.getElementById(\"contact-page-form-email\").value = \"\";\n                        this.email = \"\";\n                        window.sessionStorage.removeItem(\"email\");\n                        document.getElementById(\"contact-page-form-telephone-number\").value = \"\";\n                        this.telephone = \"\";\n                        window.sessionStorage.removeItem(\"telephone\");\n                        document.getElementById(\"contact-page-form-msg\").value = \"\";\n                        this.msg = \"\";\n                        window.sessionStorage.removeItem(\"msg\");\n                    } else {\n                        const div = document.getElementById(\"contact-main-section1-form1-div1\");\n                        const p = document.getElementById(\"contact-main-section1-form1-div1-p1\");\n                        div.style.display = 'flex';\n                        p.classList.add(\"contact-main-section1-form1-div1-p1-error\");\n                        p.textContent = \"Error sending message\";\n                    }\n                }).catch((err)=>{\n                    console.log(err);\n                    const div = document.getElementById(\"contact-main-section1-form1-div1\");\n                    const p = document.getElementById(\"contact-main-section1-form1-div1-p1\");\n                    div.style.display = 'flex';\n                    p.classList.remove(\"contact-main-section1-form1-div1-p1-success\");\n                    p.classList.add(\"contact-main-section1-form1-div1-p1-fail\");\n                    p.textContent = \"Error sending message\";\n                });\n                else {\n                    const div = document.getElementById(\"contact-main-section1-form1-div1\");\n                    const p = document.getElementById(\"contact-main-section1-form1-div1-p1\");\n                    div.style.display = 'flex';\n                    p.classList.remove(\"contact-main-section1-form1-div1-p1-success\");\n                    p.classList.add(\"contact-main-section1-form1-div1-p1-fail\");\n                    p.textContent = \"Please Enter a valid Email\";\n                }\n            } else {\n                const div = document.getElementById(\"contact-main-section1-form1-div1\");\n                const p = document.getElementById(\"contact-main-section1-form1-div1-p1\");\n                div.style.display = 'flex';\n                p.classList.remove(\"contact-main-section1-form1-div1-p1-success\");\n                p.classList.add(\"contact-main-section1-form1-div1-p1-fail\");\n                p.textContent = \"Please Fill out All Fields\";\n            }\n        });\n    };\n}\n\n});\n\nparcelRegister(\"3ZZly\", function(module, exports) {\n\n$parcel$export(module.exports, \"ContactModel\", () => $2e96a7c5fc82174a$export$dec6d3172a6c0259);\nclass $2e96a7c5fc82174a$export$dec6d3172a6c0259 {\n    constructor(){}\n    handle_contact_main_section1_form1_submit = (formData)=>{\n        var res, res1, err;\n        return fetch(\"https://www.abbeyroad.org.uk/api/contact-page/send_email\", {\n            method: 'post',\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(formData)\n        }).then((res)=>{\n            return res.json();\n        }).then((res)=>{\n            if (res.status) return Promise.resolve({\n                status: true\n            });\n            else {\n                console.log(res.msg);\n                return Promise.reject({\n                    status: false\n                });\n            }\n        }).catch((err)=>{\n            console.log(err);\n            return Promise.resolve({\n                status: false\n            });\n        });\n    };\n    formattedDate = ()=>{\n        const date = new Date();\n        // Array of month short names\n        const months = [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\"\n        ];\n        const formattedDate = `${months[date.getMonth()]} ${date.getDate()} ${date.getFullYear()} ` + `${String(date.getHours()).padStart(2, '0')}:` + `${String(date.getMinutes()).padStart(2, '0')}:` + `${String(date.getSeconds()).padStart(2, '0')}`;\n        console.log(formattedDate);\n        return formattedDate;\n    };\n}\n\n});\n\n\n\n//# sourceMappingURL=controller.37a67607.js.map\n","import { ContactView } from '../view/view.js';\nimport { ContactModel } from '../model/model.js';\n\nexport class ContactController {\n\n\tconstructor(){\n\n\t\tthis.view = new ContactView();\n\t\tthis.model = new ContactModel();\n\n\t\tthis.view.init();\n\t\tthis.view.submitForm(\n\t\t\tthis.handle_contact_main_section1_form1_submit\n\t\t)\n\t}\n\t\n\thandle_contact_main_section1_form1_submit = (formData) =>{\n\t\treturn this.model.handle_contact_main_section1_form1_submit(formData)\n\t\t.then((res)=>{\n\t\t\tif(res.status){\n\t\t\t\treturn Promise.resolve({status: true})\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn Promise.reject({status: false})\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t\tPromise.reject({status: false})\n\t\t})\n\t}\n\n}","\nexport class ContactView {\n\n\tconstructor(){\n\n\t\t// init form values empty strings or if theyve already been \n\t\t// cached in session storage using that value \n\t\tthis.name = window.sessionStorage.getItem(\"name\") \n    \t? document.getElementById(\"contact-page-form-name\").value = \n    \twindow.sessionStorage.getItem(\"name\")\n    \t: '';\n\n\t\tthis.email = window.sessionStorage.getItem(\"email\") \n    \t? document.getElementById(\"contact-page-form-email\").value =\n    \twindow.sessionStorage.getItem(\"email\")\n    \t: '';\n\n\t\tthis.telephone = window.sessionStorage.getItem(\"telephone\") \n    \t? document.getElementById(\"contact-page-form-telephone-number\").value = \n    \twindow.sessionStorage.getItem(\"telephone\")\n    \t: '';\n\n\t\tthis.msg = window.sessionStorage.getItem(\"msg\") \n    \t? document.getElementById(\"contact-page-form-msg\").value = \n    \twindow.sessionStorage.getItem(\"msg\").trim()\n    \t: ''.trim();\n\n    \tthis.init = () => {\n    \t\tthis.presave_input_data();\n    \t\tthis.remove_session_storage_when_form_resets();\n    \t\tthis.hide_response_message();\n    \t}\n\t}\n\n\thide_response_message = () => {\n\t\tconst div = \n\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\n\t\tdiv.style.display = 'none';\n\t}\n\n\t// save live input data into view constructor and to session storage\n\tpresave_input_data = () => {\n\n\t\tconst name = document.getElementById(\"contact-page-form-name\");\n\t\tconst email = document.getElementById(\"contact-page-form-email\");\n\t\tconst telephone = document.getElementById(\"contact-page-form-telephone-number\");\n\t\tconst msg = document.getElementById(\"contact-page-form-msg\");\n\n\t\tname.addEventListener(\"input\", (event)=>{\n\n\t\t\tthis.name = event.target.value.trim();\n\t\t\twindow.sessionStorage.setItem(\"name\", this.name);\n\t\t})\n\n\t\temail.addEventListener(\"input\", (event)=>{\n\n\t\t\tthis.email = event.target.value.trim();\n\t\t\twindow.sessionStorage.setItem(\"email\", this.email);\n\t\t})\n\n\t\ttelephone.addEventListener(\"input\", (event)=>{\n\n\t\t\tthis.telephone = event.target.value.trim();\n\t\t\twindow.sessionStorage.setItem(\"telephone\", this.telephone);\n\t\t})\n\n\t\tmsg.addEventListener(\"input\", (event)=>{\n\t\t\tevent.target.value.trim();\n\t\t\tthis.msg = event.target.value.trim();\n\t\t\twindow.sessionStorage.setItem(\"msg\", this.msg);\n\t\t})\n\t}\n\n\tremove_session_storage_when_form_resets = () => {\n\n\t\tconst reset_btn = \n\t\tdocument.getElementById(\"contact-main-section1-form1-div-div2-input1\");\n\n\t\treset_btn.addEventListener(\"click\", (event)=>{\n\t\t\twindow.sessionStorage.removeItem(\"name\");\n\t\t\twindow.sessionStorage.removeItem(\"email\");\n\t\t\twindow.sessionStorage.removeItem(\"telephone\");\n\t\t\twindow.sessionStorage.removeItem(\"msg\");\n\n\t\t})\n\n\t}\n\n\tsubmitForm = (modelHandlerFunction) => {\n\n\t\tconst form = \n\t\tdocument.getElementById(\"contact-main-section1-form1\");\n\n\t\tconsole.log(\"click\")\n\n\t\tform.addEventListener(\"submit\",(event)=>{\n\n\t\t\tevent.preventDefault();\n\n\n\t\t\tthis.name = document.getElementById(\"contact-page-form-name\").value.trim();\n\t\t\tthis.email = document.getElementById(\"contact-page-form-email\").value.trim();\n\t\t\tthis.telephone = document.getElementById(\"contact-page-form-telephone-number\").value.trim();\n\t\t\tthis.msg = document.getElementById(\"contact-page-form-msg\").value.trim();\n\n\t\t\tif(\n\t\t\t\tthis.name.length > 0 &&\n\t\t\t\tthis.email.length > 0 &&\n\t\t\t\tthis.telephone.length > 0 &&\n\t\t\t\tthis.msg.length > 0 \n\t\t\t){\n\t\t\t\tif(\n\t\t\t\t\tthis.email.includes(\"@\") &&\n\t\t\t\t\tthis.email.length > 5\n\t\t\t\t){\n\n\t\t\t\t\tmodelHandlerFunction({\n\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\temail: this.email,\n\t\t\t            telephone: this.telephone,\n\t\t\t\t\t\tmsg: this.msg\n\t\t\t\t\t})\n\t\t\t\t\t.then((res)=>{\n\t\t\t\t\t\tif(res.status){\n\n\t\t\t\t\t\t\tconst div = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\t\t\t\t\t\t\tconst p = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1-p1\")\n\n\t\t\t\t\t\t\tdiv.style.display = 'flex';\n\n\t\t\t\t\t\t\tp.classList.remove(\"contact-main-section1-form1-div1-p1-fail\")\n\n\t\t\t\t\t\t\tp.classList.add(\"contact-main-section1-form1-div1-p1-success\")\n\n\t\t\t\t\t\t\tp.textContent = \"Message sent successfully\"\n\n\t\t\t\t\t\t\tdocument.getElementById(\"contact-page-form-name\").value = \"\";\n\t\t\t\t\t\t\tthis.name = \"\";\n\t\t\t\t\t\t\twindow.sessionStorage.removeItem(\"name\");\n\n\t\t\t\t\t\t\tdocument.getElementById(\"contact-page-form-email\").value = \"\";\n\t\t\t\t\t\t\tthis.email = \"\";\n\t\t\t\t\t\t\twindow.sessionStorage.removeItem(\"email\");\n\n\n\t\t\t\t\t\t\tdocument.getElementById(\"contact-page-form-telephone-number\").value = \"\";\n\t\t\t\t\t\t\tthis.telephone = \"\";\n\t\t\t\t\t\t\twindow.sessionStorage.removeItem(\"telephone\");\n\n\t\t\t\t\t\t\tdocument.getElementById(\"contact-page-form-msg\").value = \"\";\n\t\t\t\t\t\t\tthis.msg = \"\"\n\t\t\t\t\t\t\twindow.sessionStorage.removeItem(\"msg\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tconst div = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\t\t\t\t\t\t\tconst p = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1-p1\")\n\n\t\t\t\t\t\t\tdiv.style.display = 'flex';\n\n\t\t\t\t\t\t\tp.classList.add(\"contact-main-section1-form1-div1-p1-error\")\n\n\t\t\t\t\t\t\tp.textContent = \"Error sending message\"\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err)=>{\n\t\t\t\t\t\tconsole.log(err)\n\n\t\t\t\t\t\tconst div = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\t\t\t\t\t\t\tconst p = \n\t\t\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1-p1\")\n\n\t\t\t\t\t\t\tdiv.style.display = 'flex';\n\n\t\t\t\t\t\t\tp.classList.remove(\"contact-main-section1-form1-div1-p1-success\")\n\n\t\t\t\t\t\t\tp.classList.add(\"contact-main-section1-form1-div1-p1-fail\")\n\n\t\t\t\t\t\t\tp.textContent = \"Error sending message\"\n\t\t\t\t\t})\n\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tconst div = \n\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\t\t\t\t\tconst p = \n\t\t\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1-p1\")\n\n\t\t\t\t\tdiv.style.display = 'flex';\n\n\t\t\t\t\tp.classList.remove(\"contact-main-section1-form1-div1-p1-success\")\n\n\t\t\t\t\tp.classList.add(\"contact-main-section1-form1-div1-p1-fail\")\n\n\t\t\t\t\tp.textContent = \"Please Enter a valid Email\"\n\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\n\t\t\tconst div = \n\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1\")\n\t\t\tconst p = \n\t\t\tdocument.getElementById(\"contact-main-section1-form1-div1-p1\")\n\n\t\t\tdiv.style.display = 'flex';\n\n\t\t\tp.classList.remove(\"contact-main-section1-form1-div1-p1-success\")\n\n\t\t\tp.classList.add(\"contact-main-section1-form1-div1-p1-fail\")\n\n\t\t\tp.textContent = \"Please Fill out All Fields\"\n\n\t\t\t}\n\t\t})\n\t}\n\n }","\nexport class ContactModel {\n\n\tconstructor(){\n\t\t\n\t}\n\n\n\thandle_contact_main_section1_form1_submit = (formData)=>{\n\n\t\t    if (process.env.NODE_ENV === \"production\") {\n\t\treturn fetch(\"https://www.abbeyroad.org.uk/api/contact-page/send_email\",{\n\t\t\tmethod:'post',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData)\n\t\t})\n\t\t.then((res)=>{\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((res)=>{\n\t\t\tif(res.status){\n\t\t\t\treturn Promise.resolve({\n\t\t\t\t\tstatus:true})\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(res.msg)\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\tstatus: false\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t\treturn Promise.resolve({status:false})\n\t\t})\n\t\tconsole.log(formData);\n\t\t    }\n\t\t    else{\n\t\treturn fetch(\"http://localhost:3001/api/contact-page/send_email\",{\n\t\t\tmethod:'post',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData)\n\t\t})\n\t\t.then((res)=>{\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((res)=>{\n\t\t\tif(res.status){\n\t\t\t\treturn Promise.resolve({\n\t\t\t\t\tstatus:true})\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(res.msg)\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\tstatus: false\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t.catch((err)=>{\n\t\t\tconsole.log(err)\n\t\t\treturn Promise.resolve({status:false})\n\t\t})\n\t\tconsole.log(formData);\n\t\t    }\n\n\n\t}\n\t\n\tformattedDate = () => {\n\n\t\tconst date = new Date();\n\n\t\t// Array of month short names\n\t\tconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \n\t\t                \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\tconst formattedDate = \n\t\t    `${months[date.getMonth()]} ${date.getDate()} ${date.getFullYear()} ` +\n\t\t    `${String(date.getHours()).padStart(2, '0')}:` +\n\t\t    `${String(date.getMinutes()).padStart(2, '0')}:` +\n\t\t    `${String(date.getSeconds()).padStart(2, '0')}`;\n\n\t\tconsole.log(formattedDate);\n\n\t\treturn formattedDate;\n\t}\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$9b508b0e74cee262$export$f51814647bb03076","$6oHMy","$3ZZly","view","ContactView","model","ContactModel","init","submitForm","handle_contact_main_section1_form1_submit","formData","then","res","status","Promise","resolve","reject","catch","err","console","log","$4a86f22d801b5784$export$2aa93a6f36b4689c","name","window","sessionStorage","getItem","document","getElementById","value","email","telephone","msg","trim","presave_input_data","remove_session_storage_when_form_resets","hide_response_message","div","style","display","addEventListener","event","target","setItem","reset_btn","removeItem","modelHandlerFunction","form","preventDefault","length","includes","p","classList","remove","add","textContent","$2e96a7c5fc82174a$export$dec6d3172a6c0259","fetch","method","headers","body","JSON","stringify","json","formattedDate","date","Date","months","getMonth","getDate","getFullYear","String","getHours","padStart","getMinutes","getSeconds"],"version":3,"file":"controller.37a67607.js.map"}