function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire8ea6,o=t.register;o("dkJDw",function(o,n){e(o.exports,"ContactController",()=>i);var m=t("6oHMy"),s=t("3ZZly");class i{constructor(){this.view=new(0,m.ContactView),this.model=new(0,s.ContactModel),this.view.init(),this.view.submitForm(this.handle_contact_main_section1_form1_submit)}handle_contact_main_section1_form1_submit=e=>this.model.handle_contact_main_section1_form1_submit(e).then(e=>e.status?Promise.resolve({status:!0}):Promise.reject({status:!1})).catch(e=>{Promise.reject({status:!1})})}}),o("6oHMy",function(t,o){e(t.exports,"ContactView",()=>n);class n{constructor(){this.name=window.sessionStorage.getItem("name")?document.getElementById("contact-page-form-name").value=window.sessionStorage.getItem("name"):"",this.name_mobile=window.sessionStorage.getItem("name_mobile")?document.getElementById("contact-page-form-name_mobile").value=window.sessionStorage.getItem("name_mobile"):"",this.email=window.sessionStorage.getItem("email")?document.getElementById("contact-page-form-email").value=window.sessionStorage.getItem("email"):"",this.email_mobile=window.sessionStorage.getItem("email_mobile")?document.getElementById("contact-page-form-email_mobile").value=window.sessionStorage.getItem("email_mobile"):"",this.telephone=window.sessionStorage.getItem("telephone")?document.getElementById("contact-page-form-telephone-number").value=window.sessionStorage.getItem("telephone"):"",this.telephone_mobile=window.sessionStorage.getItem("telephone_mobile")?document.getElementById("contact-page-form-telephone_mobile").value=window.sessionStorage.getItem("telephone_mobile"):"",this.msg=window.sessionStorage.getItem("msg")?document.getElementById("contact-page-form-msg").value=window.sessionStorage.getItem("msg").trim():"".trim(),this.msg_mobile=window.sessionStorage.getItem("msg_mobile")?document.getElementById("contact-page-form-msg_mobile").value=window.sessionStorage.getItem("msg_mobile"):"",this.init=()=>{this.presave_input_data(),this.remove_session_storage_when_form_resets(),this.hide_response_message(),this.open_and_close_navbar()}}open_and_close_navbar=()=>{let e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-menu-close"),o=document.getElementById("mobile-menu");e.addEventListener("click",e=>{o.style.display="block"}),t.addEventListener("click",e=>{o.style.display="none"})};hide_response_message=()=>{document.getElementById("contact-main-section1-form1-div1").style.display="none",document.getElementById("contact-main-mobile-message").style.display="none"};presave_input_data=()=>{let e=document.getElementById("contact-page-form-name"),t=document.getElementById("contact-page-form-email"),o=document.getElementById("contact-page-form-telephone-number"),n=document.getElementById("contact-page-form-msg");e.addEventListener("input",e=>{this.name=e.target.value.trim(),window.sessionStorage.setItem("name",this.name)}),t.addEventListener("input",e=>{this.email=e.target.value.trim(),window.sessionStorage.setItem("email",this.email)}),o.addEventListener("input",e=>{this.telephone=e.target.value.trim(),window.sessionStorage.setItem("telephone",this.telephone)}),n.addEventListener("input",e=>{e.target.value.trim(),this.msg=e.target.value.trim(),window.sessionStorage.setItem("msg",this.msg)});let m=document.getElementById("contact-page-form-name_mobile"),s=document.getElementById("contact-page-form-email_mobile"),i=document.getElementById("contact-page-form-telephone-number_mobile"),a=document.getElementById("contact-page-form-msg_mobile");m.addEventListener("input",e=>{this.name_mobile=e.target.value.trim(),window.sessionStorage.setItem("name_mobile",this.name_mobile)}),s.addEventListener("input",e=>{this.email_mobile=e.target.value.trim(),window.sessionStorage.setItem("email_mobile",this.email_mobile)}),i.addEventListener("input",e=>{this.telephone_mobile=e.target.value.trim(),window.sessionStorage.setItem("telephone_mobile",this.telephone_mobile)}),a.addEventListener("input",e=>{e.target.value.trim(),this.msg_mobile=e.target.value.trim(),window.sessionStorage.setItem("msg_mobile",this.msg_mobile)})};remove_session_storage_when_form_resets=()=>{let e=document.getElementById("contact-main-section1-form1-div-div2-input1");e.addEventListener("click",e=>{window.sessionStorage.removeItem("name"),window.sessionStorage.removeItem("email"),window.sessionStorage.removeItem("telephone"),window.sessionStorage.removeItem("msg")}),document.getElementById("contact-main-mobile-buttons_reset"),e.addEventListener("click",e=>{window.sessionStorage.removeItem("name_mobile"),window.sessionStorage.removeItem("email_mobile"),window.sessionStorage.removeItem("telephone_mobile"),window.sessionStorage.removeItem("msg_mobile")})};submitForm=e=>{document.getElementById("contact-main-section1-form1").addEventListener("submit",t=>{if(t.preventDefault(),this.name=document.getElementById("contact-page-form-name").value.trim(),this.email=document.getElementById("contact-page-form-email").value.trim(),this.telephone=document.getElementById("contact-page-form-telephone-number").value.trim(),this.msg=document.getElementById("contact-page-form-msg").value.trim(),this.name.length>0&&this.email.length>0&&this.telephone.length>0&&this.msg.length>0)if(this.email.includes("@")&&this.email.length>5)e({name:this.name,email:this.email,telephone:this.telephone,msg:this.msg}).then(e=>{if(e.status){let e=document.getElementById("contact-main-section1-form1-div1"),t=document.getElementById("contact-main-section1-form1-div1-p1");e.style.display="flex",t.classList.remove("contact-main-section1-form1-div1-p1-fail"),t.classList.add("contact-main-section1-form1-div1-p1-success"),t.textContent="Message sent successfully",document.getElementById("contact-page-form-name").value="",this.name="",window.sessionStorage.removeItem("name"),document.getElementById("contact-page-form-email").value="",this.email="",window.sessionStorage.removeItem("email"),document.getElementById("contact-page-form-telephone-number").value="",this.telephone="",window.sessionStorage.removeItem("telephone"),document.getElementById("contact-page-form-msg").value="",this.msg="",window.sessionStorage.removeItem("msg")}else{let e=document.getElementById("contact-main-section1-form1-div1"),t=document.getElementById("contact-main-section1-form1-div1-p1");e.style.display="flex",t.classList.add("contact-main-section1-form1-div1-p1-error"),t.textContent="Error sending message"}}).catch(e=>{console.log(e);let t=document.getElementById("contact-main-section1-form1-div1"),o=document.getElementById("contact-main-section1-form1-div1-p1");t.style.display="flex",o.classList.remove("contact-main-section1-form1-div1-p1-success"),o.classList.add("contact-main-section1-form1-div1-p1-fail"),o.textContent="Error sending message"});else{let e=document.getElementById("contact-main-section1-form1-div1"),t=document.getElementById("contact-main-section1-form1-div1-p1");e.style.display="flex",t.classList.remove("contact-main-section1-form1-div1-p1-success"),t.classList.add("contact-main-section1-form1-div1-p1-fail"),t.textContent="Please Enter a valid Email"}else{let e=document.getElementById("contact-main-section1-form1-div1"),t=document.getElementById("contact-main-section1-form1-div1-p1");e.style.display="flex",t.classList.remove("contact-main-section1-form1-div1-p1-success"),t.classList.add("contact-main-section1-form1-div1-p1-fail"),t.textContent="Please Fill out All Fields"}}),document.getElementById("contact-main-mobile-form").addEventListener("submit",t=>{if(t.preventDefault(),this.name_mobile=document.getElementById("contact-page-form-name_mobile").value.trim(),this.email_mobile=document.getElementById("contact-page-form-email_mobile").value.trim(),this.telephone_mobile=document.getElementById("contact-page-form-telephone-number_mobile").value.trim(),this.msg_mobile=document.getElementById("contact-page-form-msg_mobile").value.trim(),this.name_mobile.length>0&&this.email_mobile.length>0&&this.telephone_mobile.length>0&&this.msg_mobile.length>0)if(this.email_mobile.includes("@")&&this.email_mobile.length>5)e({name:this.name_mobile,email:this.email_mobile,telephone:this.telephone_mobile,msg:this.msg_mobile}).then(e=>{if(e.status){let e=document.getElementById("contact-main-mobile-message");e.style.display="flex",e.classList.remove("main-mobile-message-error"),e.classList.add("main-mobile-message-success"),e.textContent="Message sent successfully",document.getElementById("contact-page-form-name_mobile").value="",this.name_mobile="",window.sessionStorage.removeItem("name_mobile"),document.getElementById("contact-page-form-email_mobile").value="",this.email_mobile="",window.sessionStorage.removeItem("email_mobile"),document.getElementById("contact-page-form-telephone-number_mobile").value="",this.telephone_mobile="",window.sessionStorage.removeItem("telephone_mobile"),document.getElementById("contact-page-form-msg_mobile").value="",this.msg_mobile="",window.sessionStorage.removeItem("msg_mobile")}else{let e=document.getElementById("contact-main-mobile-message");e.style.display="flex",e.classList.remove("main-mobile-message-success"),e.classList.add("main-mobile-message-error"),e.textContent="Error sending message"}}).catch(e=>{let t=document.getElementById("contact-main-mobile-message");t.style.display="flex",t.classList.remove("main-mobile-message-success"),t.classList.add("main-mobile-message-error"),t.textContent="Error sending message"});else{let e=document.getElementById("contact-main-mobile-message");e.style.display="flex",e.classList.remove("main-mobile-message-success"),e.classList.add("main-mobile-message-error"),e.textContent="Please Enter a valid Email"}else{let e=document.getElementById("contact-main-mobile-message");e.style.display="flex",e.classList.remove("main-mobile-message-success"),e.classList.add("main-mobile-message-error"),e.textContent="Please Fill out All Fields"}})}}}),o("3ZZly",function(t,o){e(t.exports,"ContactModel",()=>n);class n{constructor(){}handle_contact_main_section1_form1_submit=e=>fetch("https://www.abbeyroad.org.uk/api/contact-page/send_email",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>e.status?Promise.resolve({status:!0}):(console.log(e.msg),Promise.reject({status:!1}))).catch(e=>(console.log(e),Promise.resolve({status:!1})));formattedDate=()=>{let e=new Date,t=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate()} ${e.getFullYear()} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;return console.log(t),t}}});
//# sourceMappingURL=controller.b5187ba4.js.map
