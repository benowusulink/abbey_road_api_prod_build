function e(e,t,d,a){Object.defineProperty(e,t,{get:d,set:a,enumerable:!0,configurable:!0})}var t=globalThis.parcelRequire8ea6,d=t.register;d("kavht",function(d,a){e(d.exports,"Admin_board_members_controller",()=>_);var s=t("cudlD"),r=t("5KqvO");class _{constructor(){console.log("working"),this.model=new(0,r.Admin_board_members_Model),this.view=new(0,s.Admin_board_members_View),this.model.registerListener(e=>{this.view.render_fetch_board_members(e)}),this.model.registerListener(e=>{this.view.render_add_board_members(e)}),this.model.registerListener(e=>{this.view.render_edit_board_members(e)}),this.view.articles_event_listener(e=>{1===e&&this.model.fetch_board_members(),2===e&&this.view.add_board_members(this.add_board_members),4===e&&(this.model.fetch_board_members(),this.view.edit_board_members(this.edit_board_members))})}edit_board_members=(e,t,d)=>{this.model.edit_board_members(e,t,d)};add_board_members=(e,t)=>{this.model.add_board_members(e,t)}}}),d("cudlD",function(t,d){e(t.exports,"Admin_board_members_View",()=>a);class a{constructor(){this.clicked_btn=!1,this.old_username=""}articles_event_listener=e=>{Array.from(document.getElementsByClassName("admin_board_members_main_section_article_div_span")).forEach((t,d)=>{t.addEventListener("click",()=>{let a=document.getElementById(`admin_board_members_main_section_article_div${d+1}`);this.clicked_btn?(this.clicked_btn=!1,a.style.display="none",t.textContent="Click Here",t.style.fontSize="110%",t.style.color="var(--fourth-color)",t.style.backgroundColor="var(--third-color)"):(this.clicked_btn=!0,a.style.display="flex",t.textContent="X",t.style.fontSize="200%",t.style.color="darkred",e(d+1)),Array.from(document.getElementsByClassName("admin_board_members_main_section_article_div1")).forEach(e=>{e.id!==a.id&&(e.style.display="none")})})})};render_fetch_board_members=e=>{let t=document.getElementById("admin_board_members_main_section_article_div1_loading"),d=document.getElementById("admin_board_members_main_section_article_div1_h3"),a=document.getElementById("admin_board_members_main_section_article_div1_ul1");e.loading?(d.style.display="none",a.style.display="none",t.style.display="none",t.style.display="block"):e.board_members.length>0&&!1===e.loading?(t.style.display="none",d.style.display="none",a.replaceChildren(),a.style.display="flex",e.board_members.forEach(e=>{let t=document.createElement("li");t.classList.add("admin_board_members_main_section_article_div1_ul1_li"),t.textContent=e,a.appendChild(t)})):(0===e.board_members.length&&e.loading,t.style.display="none",a.style.display="none",d.style.display="none",d.style.display="flex")};render_add_board_members=e=>{let t=document.getElementById("add_board_member_form_div_loading"),d=document.getElementById("add_board_member_form_err_msg"),a=document.getElementById("add_board_member_form_success_msg");e.loading?(t.style.display="none",a.style.display="none",d.style.display="none",t.style.display="block"):!1===e.loading&&!0===e.added_board_member?(a.style.display="none",t.style.display="none",d.style.display="none",a.style.display="flex"):!1===e.loading&&!1===e.added_board_member&&!0===e.attempted_add_board_member&&(a.style.display="none",t.style.display="none",d.style.display="none",d.style.display="flex")};add_board_members=e=>{document.getElementById("add_board_member_form").addEventListener("submit",t=>{t.preventDefault(),console.log(t),e(document.getElementById("add_board_member_form_username").value,document.getElementById("add_board_member_form_password").value)})};render_edit_board_members=e=>{let t=document.getElementById("admin_board_members_main_section_article_div4_div1_loading"),d=document.getElementById("admin_board_members_main_section_article_div4_div1_h4"),a=document.getElementById("admin_board_members_main_section_article_div4_div1_h42"),s=document.getElementById("edit_board_member_form_div_loading"),r=document.getElementById("edit_board_member_form_err_msg"),_=document.getElementById("edit_board_member_form_success_msg"),m=document.getElementById("admin_board_members_main_section_article_div4_div1_ul"),i=()=>{t.style.display="none",d.style.display="none",a.style.display="none",_.style.display="none",r.style.display="none",s.style.display="none",m.replaceChildren()};e.loading?(i(),t.style.display="block",s.style.display="block"):!0===e.edited_board_member?(i(),a.style.display="flex",_.style.display="flex",_.innerHTML=`Board Member Username or Password Changed Successfully \u{2705} Username: ${e.new_edited_user.username}, Password: ${e.new_edited_user.password}`):!1===e.edited_board_member&&!0===e.attempted_edit_board_member?(i(),a.style.display="flex",r.style.display="flex"):e.board_members.length>0?(i(),a.style.display="flex",e.board_members.forEach(e=>{let t=document.createElement("li");t.classList.add("admin_board_members_main_section_article_div4_div1_ul_li"),t.setAttribute("name",e),t.textContent=e,t.addEventListener("click",e=>{this.old_username=e.target.getAttribute("name"),m.querySelectorAll(".admin_board_members_main_section_article_div4_div1_ul_li").forEach(e=>e.classList.remove("admin_board_members_main_section_article_div4_div1_ul_li_selected")),t.classList.add("admin_board_members_main_section_article_div4_div1_ul_li_selected")}),m.appendChild(t)})):(i(),d.style.display="flex")};edit_board_members=e=>{let t=document.getElementById("edit_board_member_form"),d=document.getElementById("edit_board_member_form_username"),a=document.getElementById("edit_board_member_form_password");t.addEventListener("submit",t=>{t.preventDefault(),console.log(this.old_username,d.value,a.value),e(this.old_username,d.value,a.value)})}}}),d("5KqvO",function(t,d){e(t.exports,"Admin_board_members_Model",()=>a);class a{constructor(){this.state={loading:!1,board_members:[],added_board_member:!1,attempted_add_board_member:!1,edited_board_member:!1,attempted_edit_board_member:!1,new_edited_user:{username:"",password:""}},this.listeners=[]}setState=e=>(this.state={...this.state,...e},this.notifyListeners(),console.log(this.state),this.state);registerListener=e=>{this.listeners.push(e),e(this.state)};notifyListeners=()=>{this.listeners.forEach(e=>{e(this.state)})};fetch_board_members=()=>{this.setState({loading:!0}),fetch("http://localhost:3001/api/admin_board_members_page/fetch_board_members").then(e=>e.json()).then(e=>{if(e.success){let t=e.board_members.map(e=>e.username);this.setState({loading:!1,board_members:t})}else console.log(e.err),this.setState({loading:!1,board_members:[]})}).catch(e=>{console.log(e),this.setState({loading:!1,board_members:[]})})};add_board_members=(e,t)=>{this.setState({loading:!0,added_board_member:!1,attempted_add_board_member:!1}),fetch("http://localhost:3001/api/admin_board_members_page/add_board_members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(e=>e.json()).then(e=>{e.success?this.setState({loading:!1,added_board_member:!0,attempted_add_board_member:!1}):this.setState({loading:!1,added_board_member:!1,attempted_add_board_member:!0})}).catch(e=>{this.setState({loading:!1,added_board_member:!1,attempted_add_board_member:!0})})};edit_board_members=(e,t,d)=>{console.log(e,t,d),0===t.length||d.length,this.setState({loading:!0,edited_board_member:!1,attempted_edit_board_member:!1}),fetch("http://localhost:3001/api/admin_board_members_page/edit_board_members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:d,old_username:e})}).then(e=>e.json()).then(e=>{e.success?this.setState({loading:!1,edited_board_member:!0,attempted_edit_board_member:!1,new_edited_user:{username:t,password:d}}):this.setState({loading:!1,edited_board_member:!1,attempted_edit_board_member:!0})}).catch(e=>{this.setState({loading:!1,edited_board_member:!1,attempted_edit_board_member:!0})})}}});
//# sourceMappingURL=controller.1dd697d5.js.map
