{"mappings":"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","sources":["<anon>","src/javascript/login-page/controller/controller.js","src/javascript/login-page/model/model.js","src/javascript/login-page/view/view.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire8ea6\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"8GHbB\", function(module, exports) {\n\n$parcel$export(module.exports, \"Login_controller\", () => $6533bedb3a1a137b$export$134e9633bbab39ee);\n\nvar $dx8Tm = parcelRequire(\"dx8Tm\");\n\nvar $eyBzO = parcelRequire(\"eyBzO\");\nclass $6533bedb3a1a137b$export$134e9633bbab39ee {\n    constructor(){\n        this.view = new (0, $eyBzO.Login_view)();\n        this.model = new (0, $dx8Tm.Login_model)();\n        this.view.submit_web_admin_form(this.controller_submit_web_admin_form);\n        this.view.submit_board_members_form(this.controller_submit_board_members_form);\n        this.model.registerListener((state)=>{\n            this.view.render_web_admin_form(state);\n        });\n        this.model.registerListener((state)=>{\n            this.view.render_board_members_form(state);\n        });\n    }\n    controller_submit_web_admin_form = (password)=>{\n        this.model.website_admin_login(password);\n    };\n    controller_submit_board_members_form = (username, password)=>{\n        this.model.board_member_login(username, password);\n    };\n}\n\n});\nparcelRegister(\"dx8Tm\", function(module, exports) {\n\n$parcel$export(module.exports, \"Login_model\", () => $9da5412f24a082cc$export$384f0b73cc48f5ff);\nclass $9da5412f24a082cc$export$384f0b73cc48f5ff {\n    constructor(){\n        this.state = {\n            web_admin: {\n                loading: false,\n                failed_login: false,\n                logged_in: false\n            },\n            board_member_login: {\n                loading: false,\n                failed_login: false,\n                logged_in: false\n            }\n        };\n        this.listeners = [];\n    }\n    setState = (newState)=>{\n        this.state = {\n            ...this.state,\n            ...newState\n        };\n        this.notifyListeners();\n        console.log(this.state);\n        return this.state;\n    };\n    getState = (stateName)=>{\n        if (this.state[stateName]) return this.state[stateName];\n        else console.log(\"no state exists\");\n    };\n    registerListener = (listener)=>{\n        this.listeners.push(listener);\n        listener(this.state);\n    };\n    notifyListeners = ()=>{\n        this.listeners.forEach((listener)=>{\n            listener(this.state);\n        });\n    };\n    website_admin_login = (password)=>{\n        var res, result, err;\n        this.setState({\n            web_admin: {\n                loading: true,\n                failed_login: false,\n                logged_in: false\n            }\n        });\n        fetch(\"https://www.abbeyroad.org.uk/api/login-page/website_admin_login\", {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n                password: password\n            })\n        }).then((res)=>{\n            return res.json();\n        }).then((result)=>{\n            if (result.status) this.setState({\n                web_admin: {\n                    loading: false,\n                    failed_login: false,\n                    logged_in: true\n                }\n            });\n            else this.setState({\n                web_admin: {\n                    loading: false,\n                    failed_login: true,\n                    logged_in: false\n                }\n            });\n        }).catch((err)=>{\n            console.log(err);\n            this.setState({\n                web_admin: {\n                    loading: false,\n                    failed_login: true,\n                    logged_in: false\n                }\n            });\n        });\n    };\n    board_member_login = (username, password)=>{\n        var res, data, err;\n        this.setState({\n            board_member_login: {\n                loading: true,\n                failed_login: false,\n                logged_in: false\n            }\n        });\n        fetch(\"https://www.abbeyroad.org.uk/api/login-page/board_members_login\", {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        }).then((res)=>{\n            return res.json();\n        }).then((data)=>{\n            if (data.status) {\n                console.log(data);\n                this.setState({\n                    board_member_login: {\n                        loading: false,\n                        failed_login: false,\n                        logged_in: true\n                    }\n                });\n            } else this.setState({\n                board_member_login: {\n                    loading: false,\n                    failed_login: true,\n                    logged_in: false\n                }\n            });\n        }).catch((err)=>{\n            this.setState({\n                board_member_login: {\n                    loading: false,\n                    failed_login: true,\n                    logged_in: false\n                }\n            });\n        });\n    };\n}\n\n});\n\nparcelRegister(\"eyBzO\", function(module, exports) {\n\n$parcel$export(module.exports, \"Login_view\", () => $a9916392fc1cdc8c$export$31cd8839e2a0f3a5);\nclass $a9916392fc1cdc8c$export$31cd8839e2a0f3a5 {\n    constructor(){}\n    // web admin section\n    submit_web_admin_form = (modelFunction)=>{\n        const website_admin_form = document.getElementById(\"website_admin_form\");\n        website_admin_form.addEventListener(\"submit\", (event)=>{\n            event.preventDefault();\n            const password = document.getElementById(\"website_admin_form_password\");\n            modelFunction(password.value);\n        });\n    };\n    render_web_admin_form = (state)=>{\n        const loading_circle = document.getElementById(\"website_admin_form_loading\");\n        const err_msg = document.getElementById(\"website_admin_form_error_msg\");\n        if (state.web_admin.loading) {\n            loading_circle.style.display = 'none';\n            loading_circle.style.display = 'block';\n        } else if (state.web_admin.loading === false && state.web_admin.logged_in) {\n            loading_circle.style.display = 'none';\n            err_msg.style.display = 'none';\n            window.location.href = '/admin.html';\n        } else if (state.web_admin.loading === false && state.web_admin.failed_login) {\n            loading_circle.style.display = 'none';\n            err_msg.style.display = 'none';\n            err_msg.style.display = 'flex';\n        }\n    };\n    // board members section\n    submit_board_members_form = (modelFunction)=>{\n        const board_members_form = document.getElementById(\"board_members_form\");\n        board_members_form.addEventListener(\"submit\", (event)=>{\n            event.preventDefault();\n            const username = document.getElementById(\"board_members_form_username\");\n            const password = document.getElementById(\"board_members_form_password\");\n            modelFunction(username.value, password.value);\n        });\n    };\n    render_board_members_form = (state)=>{\n        const loading_circle = document.getElementById(\"board_members_form_loading\");\n        const err_msg = document.getElementById(\"board_members_form_error_msg\");\n        if (state.board_member_login.loading) {\n            loading_circle.style.display = 'none';\n            loading_circle.style.display = 'block';\n        } else if (state.board_member_login.loading === false && state.board_member_login.logged_in) {\n            loading_circle.style.display = 'none';\n            err_msg.style.display = 'none';\n            window.location.href = '/board_members.html';\n        } else if (state.board_member_login.loading === false && state.board_member_login.failed_login) {\n            loading_circle.style.display = 'none';\n            err_msg.style.display = 'none';\n            err_msg.style.display = 'flex';\n        }\n    };\n}\n\n});\n\n\n\n//# sourceMappingURL=controller.0a5dd571.js.map\n","import {Login_model} from '../model/model.js';\nimport {Login_view} from '../view/view.js';\n\nexport class Login_controller {\n\n\tconstructor(){\n\n\t\tthis.view = new Login_view();\n\t\tthis.model = new Login_model();\n\n\t\tthis.view.submit_web_admin_form(\n\t\t\tthis.controller_submit_web_admin_form\n\t\t)\n\n\t\tthis.view.submit_board_members_form(\n\t\t\tthis.controller_submit_board_members_form\n\t\t)\n\n\t\tthis.model.registerListener((state)=>{\n\t\t\tthis.view.render_web_admin_form(state)}\n\t\t);\n\n\t\tthis.model.registerListener((state)=>{\n\t\t\tthis.view.render_board_members_form(state)}\n\t\t);\n\t}\n\n\tcontroller_submit_web_admin_form = (password) => {\n\t\tthis.model.website_admin_login(password)\n\t}\n\n\tcontroller_submit_board_members_form = (username,password) => {\n\t\tthis.model.board_member_login(username,password)\n\t}\n}","export class Login_model {\n\n\tconstructor(){\n\t\tthis.state = {\n\t\t\tweb_admin : {\n\t\t\t\tloading: false,\n\t\t\t\tfailed_login: false,\n\t\t\t\tlogged_in: false\n\t\t\t},\n\t\t\tboard_member_login:{\n\t\t\t\tloading: false,\n\t\t\t\tfailed_login: false,\n\t\t\t\tlogged_in: false\n\t\t\t}\n\t\t}\n\t\tthis.listeners = [];\n\t}\n\n\tsetState = (newState) =>{ \n      this.state = {...this.state,...newState};\n      this.notifyListeners();\n      console.log(this.state)\n      return this.state\n\t}\n\n\tgetState = (stateName) => {\n\t    if (this.state[stateName]) {\n\t      return this.state[stateName];\n\t    } else {\n\t      console.log(\"no state exists\");\n\t    }\n\t};\n\n\tregisterListener = (listener) => {\n\n\t    this.listeners.push(listener)\n\t    listener(this.state);\n\t}\n\n\tnotifyListeners = () => {\n\t    this.listeners.forEach((listener)=>{\n\t      listener(this.state)\n\t    })\n\t}\n\n\twebsite_admin_login = (password) => {\n\n\t\tif(process.env.NODE_ENV === 'production'){\n\t\t\tthis.setState({\n\t\t\t\tweb_admin : {\n\t\t\t\t\tloading: true,\n\t\t\t\t\tfailed_login: false,\n\t\t\t\t\tlogged_in: false\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfetch(\"https://www.abbeyroad.org.uk/api/login-page/website_admin_login\",{\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t\t},\n\t\t\t\tcredentials: 'include',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tpassword: password\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((result)=>{\n\n\t\t\t\tif(result.status){\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: false,\n\t\t\t\t\t\t\tlogged_in: true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\n\t\t\t\tconsole.log(err);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\telse{\n\t\t\tthis.setState({\n\t\t\t\tweb_admin : {\n\t\t\t\t\tloading: true,\n\t\t\t\t\tfailed_login: false,\n\t\t\t\t\tlogged_in: false\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfetch(\"http://localhost:3001/api/login-page/website_admin_login\",{\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tpassword: password\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((result)=>{\n\n\t\t\t\tif(result.status){\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: false,\n\t\t\t\t\t\t\tlogged_in: true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\n\t\t\t\tconsole.log(err);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tweb_admin : {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tboard_member_login = (username,password) => {\n\n\t\tif(process.env.NODE_ENV === 'production'){\n\n\t\t\tthis.setState({\n\t\t\t\tboard_member_login:{\n\t\t\t\t\tloading: true,\n\t\t\t\t\tfailed_login: false,\n\t\t\t\t\tlogged_in: false\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfetch(\"https://www.abbeyroad.org.uk/api/login-page/board_members_login\",{\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t\t},\n\t\t\t\tcredentials: 'include',\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((data)=>{\n\t\t\t\tif(data.status){\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: false,\n\t\t\t\t\t\t\tlogged_in: true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n\t\telse{\n\n\t\tthis.setState({\n\t\t\t\tboard_member_login:{\n\t\t\t\t\tloading: true,\n\t\t\t\t\tfailed_login: false,\n\t\t\t\t\tlogged_in: false\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfetch(\"http://localhost:3001/api/login-page/board_members_login\",{\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\" : \"application/json\"\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password\n\t\t\t\t})\n\t\t\t})\n\t\t\t.then((res)=>{\n\t\t\t\treturn res.json()\n\t\t\t})\n\t\t\t.then((data)=>{\n\t\t\t\tif(data.status){\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: false,\n\t\t\t\t\t\t\tlogged_in: true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\tboard_member_login:{\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\tfailed_login: true,\n\t\t\t\t\t\tlogged_in: false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n}","export class Login_view{\n\n\tconstructor(){\n\n\t}\n\n\t// web admin section\n\n\tsubmit_web_admin_form = (modelFunction) =>{\n\n\t\tconst website_admin_form = \n\t\tdocument.getElementById(\"website_admin_form\")\n\n\t\twebsite_admin_form.addEventListener(\"submit\", (event)=>{\n\n\t\t\tevent.preventDefault();\n\n\t\t\tconst password = \n\t\t\tdocument.getElementById(\"website_admin_form_password\");\n\n\t\t\tmodelFunction(password.value)\n\t\t})\n\n\t}\n\n\trender_web_admin_form = (state) => {\n\n\t\tconst loading_circle = \n\t\tdocument.getElementById(\"website_admin_form_loading\");\n\n\t\tconst err_msg = \n\t\tdocument.getElementById(\"website_admin_form_error_msg\")\n\n\t\tif(state.web_admin.loading){\n\n\t\t\tloading_circle.style.display = 'none';\n\t\t\tloading_circle.style.display = 'block';\n\n\t\t}\n\t\telse if (state.web_admin.loading === false &&\n\t\t\tstate.web_admin.logged_in) {\n\t\t\t\n\t\t\tloading_circle.style.display = 'none';\n\n\t\t\terr_msg.style.display = 'none';\n\n\t\t\twindow.location.href = '/admin.html'\n\t\t}\n\t\telse if (state.web_admin.loading === false &&\n\t\t\tstate.web_admin.failed_login) {\n\t\t\t\n\t\t\tloading_circle.style.display = 'none';\n\n\t\t\terr_msg.style.display = 'none';\n\t\t\terr_msg.style.display = 'flex';\n\t\t}\n\t}\n\n\t// board members section\n\n\tsubmit_board_members_form = (modelFunction) => {\n\n\t\tconst board_members_form = \n\t\tdocument.getElementById(\"board_members_form\");\n\n\t\tboard_members_form.addEventListener(\"submit\", (event)=>{\n\n\t\t\tevent.preventDefault();\n\n\t\t\tconst username = \n\t\t\tdocument.getElementById(\"board_members_form_username\");\n\t\t\tconst password = \n\t\t\tdocument.getElementById(\"board_members_form_password\");\n\n\t\t\tmodelFunction(username.value,password.value)\n\t\t})\n\t}\n\n\trender_board_members_form = (state) => {\n\n\t\tconst loading_circle = \n\t\tdocument.getElementById(\"board_members_form_loading\");\n\n\t\tconst err_msg = \n\t\tdocument.getElementById(\"board_members_form_error_msg\")\n\n\t\tif(state.board_member_login.loading){\n\n\t\t\tloading_circle.style.display = 'none';\n\t\t\tloading_circle.style.display = 'block';\n\n\t\t}\n\t\telse if (state.board_member_login.loading === false &&\n\t\t\tstate.board_member_login.logged_in) {\n\t\t\t\n\t\t\tloading_circle.style.display = 'none';\n\n\t\t\terr_msg.style.display = 'none';\n\n\t\t\twindow.location.href = '/board_members.html'\n\t\t}\n\t\telse if (state.board_member_login.loading === false &&\n\t\t\tstate.board_member_login.failed_login) {\n\t\t\t\n\t\t\tloading_circle.style.display = 'none';\n\n\t\t\terr_msg.style.display = 'none';\n\t\t\terr_msg.style.display = 'flex';\n\t\t}\n\t}\n}\n\n\n\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","$6533bedb3a1a137b$export$134e9633bbab39ee","$dx8Tm","$eyBzO","view","Login_view","model","Login_model","submit_web_admin_form","controller_submit_web_admin_form","submit_board_members_form","controller_submit_board_members_form","registerListener","state","render_web_admin_form","render_board_members_form","password","website_admin_login","username","board_member_login","$9da5412f24a082cc$export$384f0b73cc48f5ff","web_admin","loading","failed_login","logged_in","listeners","setState","newState","notifyListeners","console","log","getState","stateName","listener","push","forEach","fetch","method","headers","credentials","body","JSON","stringify","then","res","json","result","status","catch","err","data","$a9916392fc1cdc8c$export$31cd8839e2a0f3a5","modelFunction","website_admin_form","document","getElementById","addEventListener","event","preventDefault","value","loading_circle","err_msg","style","display","window","location","href","board_members_form"],"version":3,"file":"controller.0a5dd571.js.map"}